# ============================================
# Auditor Web de Seguridad - Variables de Entorno
# ============================================
# 
# INSTRUCCIONES:
# 1. Copia este archivo a .env.dev para desarrollo local
# 2. Copia este archivo a .env.prod para producción
# 3. Completa los valores según tu entorno
# 4. NUNCA subas .env.dev o .env.prod al repositorio
#
# ============================================

# ============================================
# BASE DE DATOS (PostgreSQL)
# ============================================
POSTGRES_USER=auditor_user
POSTGRES_PASSWORD=change_me_secure_password
POSTGRES_DB=auditor_db
POSTGRES_PORT=5432

# URL de conexión completa (usada por el backend)
# Formato: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# En Docker Compose, el host es el nombre del servicio: 'db'
DATABASE_URL=postgresql://auditor_user:change_me_secure_password@db:5432/auditor_db

# ============================================
# BACKEND (FastAPI)
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_LOG_LEVEL=info
# Opciones: debug, info, warning, error

# ============================================
# AUTENTICACIÓN (JWT)
# ============================================
# IMPORTANTE: Genera una clave secreta segura y aleatoria
# Puedes usar: openssl rand -hex 32
JWT_SECRET=change_me_to_a_very_secure_random_secret_key_min_32_chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================
# FRONTEND (Next.js)
# ============================================
# URL base de la API que el frontend usará
# En desarrollo: http://localhost:8080/api (a través del proxy)
# En producción: https://api.auditor.tu-dominio.com
NEXT_PUBLIC_API_BASE_URL=http://localhost:8080/api
FRONTEND_PORT=3000
NODE_ENV=development

# ============================================
# PROXY (Caddy)
# ============================================
# Puerto HTTP en desarrollo (el proxy escucha aquí)
DEV_PROXY_HTTP_PORT=8080

# ============================================
# SEGURIDAD Y VALIDACIÓN
# ============================================
# Lista de dominios permitidos para escaneo (separados por comas)
# En desarrollo, puedes permitir localhost y dominios de prueba
# En producción, restringe a dominios autorizados
ALLOWED_SCAN_DOMAINS=localhost,127.0.0.1,example.com

# Tiempo máximo de ejecución de un escaneo (en segundos)
SCAN_TIMEOUT_SECONDS=300

# ============================================
# HERRAMIENTAS DE SEGURIDAD
# ============================================
# Configuraciones opcionales para herramientas de escaneo
# (Estas pueden ser usadas por el backend al ejecutar contenedores)

# OWASP ZAP
ZAP_BASELINE_TIMEOUT=300

# Nuclei
NUCLEI_TIMEOUT=300
NUCLEI_RATE_LIMIT=150

# SSLyze
SSLYZE_TIMEOUT=120

# ============================================
# PRODUCCIÓN (solo para .env.prod)
# ============================================
# Descomenta y configura para producción:
# DOMAIN=auditor.tu-dominio.com
# API_DOMAIN=api.auditor.tu-dominio.com
# EMAIL_FOR_LETSENCRYPT=tu-correo@ejemplo.com
